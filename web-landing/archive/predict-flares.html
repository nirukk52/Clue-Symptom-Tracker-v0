<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KFK8WHV5');</script>
  <!-- End Google Tag Manager -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chronic Life - Predict your next flare before it hits</title>
  <meta name="description" content="Stop being blindsided. Connect the dots between sleep, stress, food, and symptoms — before it's too late.">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=Fraunces:opsz,wght@9..144,300;9..144,400;9..144,500;9..144,600;9..144,700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&display=swap" rel="stylesheet">

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: "#20132E", "primary-light": "#f3f0fa", "bg-cream": "#FDFBF9", "bg-card": "#FFFFFF",
            "accent-peach": "#E8974F", "accent-blue": "#A4C8D8", "accent-purple": "#D0BDF4", "accent-mint": "#B8E3D6", "accent-rose": "#F4C4C4",
            "pill-hover": "#F3EFFF", "pill-selected": "#E0D4FC", "text-main": "#20132E", "text-muted": "#554b66",
          },
          fontFamily: { display: ["Fraunces", "Georgia", "serif"], body: ["DM Sans", "system-ui", "sans-serif"], },
          borderRadius: { DEFAULT: "12px", xl: "16px", "2xl": "24px", "3xl": "32px", "4xl": "40px", pill: "9999px", },
          boxShadow: { soft: "0 4px 20px -2px rgba(32, 20, 46, 0.08)", card: "0 2px 12px -2px rgba(32, 20, 69, 0.06)", glow: "0 0 60px -10px rgba(208, 189, 244, 0.4)", },
        },
      },
    };
  </script>
  <style>
    html { scroll-behavior: smooth; } body { font-family: 'DM Sans', sans-serif; } .font-display { font-family: 'Fraunces', Georgia, serif; }
    ::-webkit-scrollbar { width: 8px; } ::-webkit-scrollbar-track { background: transparent; } ::-webkit-scrollbar-thumb { background-color: rgba(32, 19, 46, 0.15); border-radius: 20px; }
    @keyframes float { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-20px) rotate(3deg); } }
    @keyframes float-reverse { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(20px) rotate(-3deg); } }
    .animate-float { animation: float 8s ease-in-out infinite; } .animate-float-reverse { animation: float-reverse 10s ease-in-out infinite; }
    .gradient-text { background: linear-gradient(135deg, #20132E 0%, #D0BDF4 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
    .glass { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); }
    .parallax-blob { will-change: transform; transition: transform 0.1s ease-out; }
    .hover-lift { transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1), box-shadow 0.3s cubic-bezier(0.16, 1, 0.3, 1); }
    .hover-lift:hover { transform: translateY(-4px); box-shadow: 0 12px 40px -8px rgba(32, 20, 46, 0.12); }
    .hover-glow { transition: box-shadow 0.4s ease; } .hover-glow:hover { box-shadow: 0 0 40px -10px rgba(208, 189, 244, 0.5); }
    @keyframes subtle-float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
    .float-card { animation: subtle-float 4s ease-in-out infinite; } .float-card-delayed { animation: subtle-float 4s ease-in-out infinite; animation-delay: -2s; }
    @keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 0 0 rgba(208, 189, 244, 0.4); } 50% { box-shadow: 0 0 20px 4px rgba(208, 189, 244, 0.2); } }
    .pulse-glow { animation: pulse-glow 3s ease-in-out infinite; }
    .gradient-border { position: relative; }
    .gradient-border::before { content: ''; position: absolute; inset: 0; border-radius: inherit; padding: 2px; background: linear-gradient(135deg, #D0BDF4 0%, #B8E3D6 50%, #E8974F 100%); -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); -webkit-mask-composite: xor; mask-composite: exclude; opacity: 0; transition: opacity 0.4s ease; }
    .gradient-border:hover::before { opacity: 1; }
    .modal-overlay { position: fixed; inset: 0; background: rgba(32, 19, 46, 0.6); backdrop-filter: blur(8px); z-index: 100; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease; }
    .modal-overlay.active { opacity: 1; visibility: visible; }
    .modal-container { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.95); z-index: 101; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, transform 0.3s cubic-bezier(0.16, 1, 0.3, 1), visibility 0.3s ease; }
    .modal-container.active { opacity: 1; visibility: visible; transform: translate(-50%, -50%) scale(1); }
    .modal-content { background: #FDFBF9; border-radius: 2rem; padding: 2.5rem; width: 90vw; max-width: 420px; box-shadow: 0 25px 60px -15px rgba(32, 20, 46, 0.25); border: 1px solid rgba(32, 19, 46, 0.05); position: relative; overflow: hidden; }
    .modal-close { position: absolute; top: 1rem; right: 1rem; width: 2.5rem; height: 2.5rem; border-radius: 50%; background: rgba(32, 19, 46, 0.05); border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: background 0.2s ease, transform 0.2s ease; }
    .modal-close:hover { background: rgba(32, 19, 46, 0.1); transform: scale(1.05); }
    .modal-input { width: 100%; padding: 1rem 1.25rem; border-radius: 9999px; border: 2px solid rgba(32, 19, 46, 0.1); font-size: 1rem; font-family: 'DM Sans', sans-serif; background: white; color: #20132E; outline: none; transition: border-color 0.2s ease, box-shadow 0.2s ease; }
    .modal-input:focus { border-color: #D0BDF4; box-shadow: 0 0 0 4px rgba(208, 189, 244, 0.2); }
    .modal-input::placeholder { color: #554b66; opacity: 0.6; }
    .modal-input.error { border-color: #E8974F; animation: shake 0.4s ease; }
    @keyframes shake { 0%, 100% { transform: translateX(0); } 20%, 60% { transform: translateX(-6px); } 40%, 80% { transform: translateX(6px); } }
    .modal-submit { width: 100%; padding: 1rem 1.5rem; border-radius: 9999px; background: #20132E; color: white; font-size: 1rem; font-weight: 700; font-family: 'DM Sans', sans-serif; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 0.5rem; transition: background 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease; }
    .modal-submit:hover { background: rgba(32, 19, 46, 0.9); box-shadow: 0 8px 24px -4px rgba(32, 20, 46, 0.3); }
    .modal-submit:active { transform: scale(0.98); } .modal-submit:disabled { opacity: 0.6; cursor: not-allowed; }
    .modal-success { display: none; text-align: center; } .modal-success.active { display: block; animation: fadeInUp 0.4s ease; }
    .modal-form.hidden { display: none; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    .success-icon { width: 4rem; height: 4rem; border-radius: 50%; background: linear-gradient(135deg, #B8E3D6 0%, #A4C8D8 100%); display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem; animation: scaleIn 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
    @keyframes scaleIn { from { transform: scale(0); } to { transform: scale(1); } }
    .modal-blob-1 { position: absolute; top: -2rem; right: -2rem; width: 6rem; height: 6rem; background: rgba(208, 189, 244, 0.4); border-radius: 2rem; transform: rotate(12deg); filter: blur(20px); pointer-events: none; }
    .modal-blob-2 { position: absolute; bottom: -1.5rem; left: -1.5rem; width: 5rem; height: 5rem; background: rgba(184, 227, 214, 0.5); border-radius: 50%; filter: blur(15px); pointer-events: none; }
  </style>
</head>
<body class="bg-bg-cream text-text-main antialiased overflow-x-hidden">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KFK8WHV5"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- Navigation -->
  <nav class="fixed top-0 left-0 right-0 z-50 glass border-b border-primary/5">
    <div class="max-w-6xl mx-auto px-6 h-20 flex items-center justify-between">
      <a href="/" class="flex items-center gap-2">
        <div class="w-10 h-10 rounded-2xl bg-primary flex items-center justify-center"><span class="text-white font-display font-bold text-lg">C</span></div>
        <span class="text-xl font-display font-semibold text-primary">Chronic Life</span>
      </a>
      <div class="hidden md:flex items-center gap-8 text-sm font-semibold text-text-muted">
        <a href="#insights" class="hover:text-primary transition-colors">Insights</a>
        <a href="#flare-mode" class="hover:text-primary transition-colors">Flare Mode</a>
        <a href="#quick-checkins" class="hover:text-primary transition-colors">Quick Check-ins</a>
        <a href="#doctor-pack" class="hover:text-primary transition-colors">Doctor Pack</a>
      </div>
      <div class="flex items-center gap-3">
        <a href="#" class="text-sm font-semibold text-text-muted hover:text-primary transition-colors hidden sm:block" data-modal-trigger data-cta-id="nav_login" data-cta-text="Log In">Log In</a>
        <a href="#" class="bg-primary hover:bg-primary/90 text-white text-sm font-bold px-5 py-2.5 rounded-pill transition-all hover:shadow-lg active:scale-95" data-modal-trigger data-cta-id="nav_get_started" data-cta-text="Get Started">Get Started</a>
      </div>
    </div>
  </nav>

  <!-- Hero Section - CUSTOMIZED FOR PREDICT FLARES -->
  <header class="relative min-h-screen pt-32 pb-20 px-6 overflow-hidden">
    <div class="parallax-blob absolute -top-20 -right-20 w-80 h-80 bg-accent-purple/40 rounded-[4rem] rotate-12 blur-3xl animate-float pointer-events-none" data-speed="0.05"></div>
    <div class="parallax-blob absolute top-1/3 -left-20 w-64 h-64 bg-accent-rose/40 rounded-full blur-3xl animate-float-reverse pointer-events-none" data-speed="0.03"></div>
    <div class="parallax-blob absolute bottom-20 right-1/4 w-96 h-96 bg-accent-mint/30 rounded-[5rem] -rotate-12 blur-3xl animate-float pointer-events-none" data-speed="0.04"></div>

    <div class="max-w-5xl mx-auto relative z-10">
      <div class="text-center max-w-3xl mx-auto mb-16">
        <!-- Badge - Prediction focused -->
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-pill bg-accent-purple/30 text-sm font-semibold text-primary mb-8 pulse-glow">
          <span class="material-symbols-outlined text-lg">visibility</span>
          See it before it hits
        </div>

        <h1 class="font-display text-5xl md:text-7xl font-semibold text-primary leading-[1.1] mb-6">
          Predict your next flare<br>
          <span class="gradient-text">before it hits.</span>
        </h1>

        <p class="text-xl text-text-muted leading-relaxed mb-4 max-w-2xl mx-auto">
          Stop being blindsided. Connect the dots between sleep, stress, food, and symptoms — before it's too late.
        </p>

        <p class="text-lg text-text-muted/80 leading-relaxed mb-10 max-w-xl mx-auto">
          Anticipate, don't just react.
        </p>

        <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
          <a href="#" class="w-full sm:w-auto h-14 px-8 bg-primary hover:bg-primary/90 text-white text-lg font-bold rounded-pill shadow-lg hover:shadow-xl transition-all active:scale-95 flex items-center justify-center gap-2 hover-glow" data-modal-trigger data-cta-id="hero_primary" data-cta-text="Start predicting flares">
            Start predicting flares
            <span class="material-symbols-outlined">arrow_forward</span>
          </a>
          <a href="#insights" class="w-full sm:w-auto h-14 px-8 bg-white hover:bg-pill-hover border-2 border-primary/10 text-primary text-lg font-bold rounded-pill transition-all active:scale-95 flex items-center justify-center gap-2">
            How pattern detection works
          </a>
        </div>
      </div>

      <!-- Hero Visual Card -->
      <div class="relative max-w-4xl mx-auto">
        <div class="bg-white rounded-[2.5rem] p-6 md:p-8 shadow-soft border border-primary/5 hover-lift">
          <div class="flex flex-col md:flex-row gap-6">
            <!-- Prediction Preview -->
            <div class="flex-1 bg-bg-cream rounded-3xl p-6">
              <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 rounded-xl bg-accent-rose/40 flex items-center justify-center">
                  <span class="material-symbols-outlined text-red-600">warning</span>
                </div>
                <div>
                  <p class="font-semibold text-primary">Flare Risk Alert</p>
                  <p class="text-sm text-text-muted">Based on your patterns</p>
                </div>
              </div>
              <div class="space-y-3">
                <div class="bg-accent-rose/20 rounded-2xl p-4 border border-accent-rose/30">
                  <div class="flex items-center justify-between mb-2">
                    <span class="font-semibold text-primary">Elevated Risk</span>
                    <span class="px-2 py-1 bg-accent-rose/30 rounded-pill text-xs font-bold text-red-700">High</span>
                  </div>
                  <p class="text-sm text-text-muted">Poor sleep (2 nights) + stress detected. Historically, this combo precedes flares 80% of the time.</p>
                </div>
                <div class="bg-white rounded-2xl p-4 shadow-card">
                  <p class="text-xs text-text-muted mb-2">Suggested actions</p>
                  <ul class="text-sm text-primary space-y-1">
                    <li>• Prioritize sleep tonight</li>
                    <li>• Consider light activity only</li>
                    <li>• Have rescue meds ready</li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Pattern Timeline Preview -->
            <div class="flex-1 bg-bg-cream rounded-3xl p-6">
              <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 rounded-xl bg-accent-purple/30 flex items-center justify-center">
                  <span class="material-symbols-outlined text-primary">timeline</span>
                </div>
                <div>
                  <p class="font-semibold text-primary">Lag Effect Detected</p>
                  <p class="text-sm text-text-muted">Your body's delay pattern</p>
                </div>
              </div>
              <div class="space-y-3">
                <div class="bg-white rounded-2xl p-4 shadow-card">
                  <p class="text-sm text-primary leading-relaxed font-medium">"Your flares typically start 24-48 hours after a trigger, not immediately."</p>
                  <p class="text-xs text-text-muted mt-2">Based on 12 flare episodes</p>
                </div>
                <div class="bg-white rounded-2xl p-4 shadow-card">
                  <div class="flex items-center gap-3 mb-2">
                    <div class="w-2 h-2 rounded-full bg-accent-blue"></div>
                    <span class="text-sm text-text-muted">Trigger (Day 1)</span>
                  </div>
                  <div class="flex items-center gap-3 mb-2">
                    <div class="w-2 h-2 rounded-full bg-yellow-400"></div>
                    <span class="text-sm text-text-muted">Warning signs (Day 2)</span>
                  </div>
                  <div class="flex items-center gap-3">
                    <div class="w-2 h-2 rounded-full bg-accent-rose"></div>
                    <span class="text-sm text-text-muted">Full flare (Day 2-3)</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Floating Stats -->
        <div class="absolute -bottom-6 -left-6 bg-white rounded-2xl p-4 shadow-card border border-primary/5 hidden md:block float-card hover-lift">
          <div class="flex items-center gap-3">
            <div class="w-12 h-12 rounded-xl bg-accent-purple/30 flex items-center justify-center">
              <span class="material-symbols-outlined text-purple-700">visibility</span>
            </div>
            <div>
              <p class="text-2xl font-display font-bold text-primary">24-48h</p>
              <p class="text-xs text-text-muted">early warning</p>
            </div>
          </div>
        </div>

        <div class="absolute -top-4 -right-4 bg-white rounded-2xl p-4 shadow-card border border-primary/5 hidden md:block float-card-delayed hover-lift">
          <div class="flex items-center gap-3">
            <div class="w-12 h-12 rounded-xl bg-accent-mint/30 flex items-center justify-center">
              <span class="material-symbols-outlined text-teal-700">shield</span>
            </div>
            <div>
              <p class="text-2xl font-display font-bold text-primary">80%</p>
              <p class="text-xs text-text-muted">prediction accuracy</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Insights Section - FOCUS FEATURE -->
  <section id="insights" class="py-24 px-6 bg-gradient-to-b from-bg-cream to-accent-purple/10 relative overflow-hidden">
    <div class="parallax-blob absolute bottom-0 right-0 w-[600px] h-[600px] bg-accent-purple/10 rounded-full blur-3xl pointer-events-none" data-speed="0.03"></div>
    <div class="max-w-6xl mx-auto relative z-10">
      <div class="text-center max-w-2xl mx-auto mb-16">
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-pill bg-accent-purple/30 text-sm font-semibold text-primary mb-6"><span class="material-symbols-outlined text-lg">psychology</span>Predictive insights</div>
        <h2 class="font-display text-4xl md:text-5xl font-semibold text-primary mb-4">See patterns before they become flares.</h2>
        <p class="text-lg text-text-muted">Chronic Life learns your body's lag effects and warning signs.</p>
      </div>
      <div class="grid md:grid-cols-3 gap-6 mb-12">
        <div class="bg-white rounded-[2rem] p-6 shadow-soft border border-primary/5 md:col-span-2 hover-lift">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 rounded-xl bg-accent-purple/30 flex items-center justify-center"><span class="material-symbols-outlined text-purple-700">trending_up</span></div>
            <div><p class="font-semibold text-primary">Lag Effect Detected</p><p class="text-sm text-text-muted">Based on 12 flare episodes</p></div>
          </div>
          <div class="bg-bg-cream rounded-2xl p-5 mb-4"><p class="text-lg text-primary leading-relaxed"><span class="font-semibold">Your flares typically appear 24-48 hours</span> after poor sleep + stress, not immediately.</p></div>
          <div class="flex flex-wrap gap-4 text-sm text-text-muted">
            <span class="flex items-center gap-1"><span class="material-symbols-outlined text-base">calendar_month</span>Last 3 months</span>
            <span class="flex items-center gap-1"><span class="material-symbols-outlined text-base">data_array</span>12 flares analyzed</span>
            <span class="flex items-center gap-1"><span class="material-symbols-outlined text-base">verified</span>High confidence</span>
          </div>
        </div>
        <div class="bg-gradient-to-br from-accent-purple/20 to-accent-rose/20 rounded-[2rem] p-6 border border-accent-purple/30 hover-lift">
          <h4 class="font-display text-lg font-semibold text-primary mb-4">Why this matters</h4>
          <ul class="space-y-3 text-text-muted text-sm">
            <li class="flex items-start gap-2"><span class="material-symbols-outlined text-accent-purple text-base mt-0.5">check</span>Intervene before symptoms peak</li>
            <li class="flex items-start gap-2"><span class="material-symbols-outlined text-accent-purple text-base mt-0.5">check</span>Prepare rescue strategies</li>
            <li class="flex items-start gap-2"><span class="material-symbols-outlined text-accent-purple text-base mt-0.5">check</span>Reduce flare severity</li>
          </ul>
          <a href="#" class="inline-flex items-center gap-2 mt-6 text-primary font-semibold text-sm hover:gap-3 transition-all" data-modal-trigger data-cta-id="insights_example" data-cta-text="See prediction in action">See prediction in action<span class="material-symbols-outlined text-base">arrow_forward</span></a>
        </div>
      </div>
    </div>
  </section>

  <!-- Flare Mode Section -->
  <section id="flare-mode" class="py-24 px-6 bg-gradient-to-b from-accent-purple/10 to-accent-rose/10 relative overflow-hidden">
    <div class="parallax-blob absolute top-1/2 right-0 w-[400px] h-[400px] bg-accent-peach/10 rounded-full blur-3xl pointer-events-none" data-speed="0.025"></div>
    <div class="max-w-6xl mx-auto relative z-10">
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div class="order-2 md:order-1">
          <div class="bg-white rounded-[2.5rem] p-8 shadow-soft border border-accent-rose/20 hover-lift">
            <div class="flex items-center justify-between mb-6">
              <div class="flex items-center gap-3">
                <div class="w-12 h-12 rounded-xl bg-accent-rose/30 flex items-center justify-center"><span class="material-symbols-outlined text-red-600">warning</span></div>
                <div><p class="font-semibold text-primary">Flare Mode</p><p class="text-sm text-text-muted">Simplified tracking</p></div>
              </div>
              <div class="w-12 h-6 bg-accent-rose rounded-pill relative"><div class="absolute right-1 top-1 w-4 h-4 bg-white rounded-full shadow-sm"></div></div>
            </div>
            <div class="space-y-4">
              <button class="w-full p-4 bg-accent-rose/20 rounded-2xl text-left">
                <div class="flex items-center gap-3"><span class="material-symbols-outlined text-red-600">local_fire_department</span><div><p class="font-semibold text-primary">I'm in a flare</p><p class="text-sm text-text-muted">One tap to log it</p></div></div>
              </button>
              <div class="grid grid-cols-2 gap-3">
                <div class="p-3 bg-bg-cream rounded-xl"><p class="text-xs text-text-muted mb-1">Severity</p><p class="font-semibold text-primary">7/10</p></div>
                <div class="p-3 bg-bg-cream rounded-xl"><p class="text-xs text-text-muted mb-1">Started</p><p class="font-semibold text-primary">6:30 AM</p></div>
              </div>
            </div>
          </div>
        </div>
        <div class="order-1 md:order-2">
          <div class="inline-flex items-center gap-2 px-4 py-2 rounded-pill bg-accent-rose/30 text-sm font-semibold text-primary mb-6"><span class="material-symbols-outlined text-lg">local_fire_department</span>Flare Mode</div>
          <h2 class="font-display text-4xl md:text-5xl font-semibold text-primary mb-4">When flares hit anyway, log them fast.</h2>
          <p class="text-lg text-text-muted mb-8">Designed for bad days. One tap to capture what matters, details can wait.</p>
          <a href="#" class="inline-flex items-center gap-2 text-primary font-semibold hover:gap-3 transition-all" data-modal-trigger data-cta-id="flare_mode_turn_on" data-cta-text="Turn on Flare Mode">Turn on Flare Mode<span class="material-symbols-outlined text-lg">arrow_forward</span></a>
        </div>
      </div>
    </div>
  </section>

  <!-- Quick Check-ins Section -->
  <section id="quick-checkins" class="py-24 px-6 bg-white relative overflow-hidden">
    <div class="parallax-blob absolute bottom-0 left-0 w-[500px] h-[500px] bg-accent-blue/10 rounded-full blur-3xl pointer-events-none" data-speed="0.03"></div>
    <div class="max-w-6xl mx-auto relative z-10">
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div>
          <div class="inline-flex items-center gap-2 px-4 py-2 rounded-pill bg-accent-blue/20 text-sm font-semibold text-primary mb-6"><span class="material-symbols-outlined text-lg">bolt</span>Quick Check-ins</div>
          <h2 class="font-display text-4xl md:text-5xl font-semibold text-primary mb-4">20 seconds.<br>That's it.</h2>
          <p class="text-lg text-text-muted mb-8">The more you log, the better predictions get. But we keep it effortless.</p>
          <a href="#" class="inline-flex items-center gap-2 text-primary font-semibold hover:gap-3 transition-all" data-modal-trigger data-cta-id="quick_checkins_try" data-cta-text="Try Quick Entry">Try Quick Entry<span class="material-symbols-outlined text-lg">arrow_forward</span></a>
        </div>
        <div class="relative">
          <div class="bg-bg-cream rounded-[2.5rem] p-8 shadow-soft border border-primary/5 hover-lift">
            <div class="bg-white rounded-3xl p-6 shadow-card mb-6">
              <p class="text-sm font-semibold text-text-muted mb-4">How's your energy today?</p>
              <div class="flex gap-2 mb-4">
                <button class="w-10 h-10 rounded-xl bg-bg-cream text-text-muted font-bold text-sm">1</button>
                <button class="w-10 h-10 rounded-xl bg-bg-cream text-text-muted font-bold text-sm">2</button>
                <button class="w-10 h-10 rounded-xl bg-bg-cream text-text-muted font-bold text-sm">3</button>
                <button class="w-10 h-10 rounded-xl bg-pill-selected border-2 border-primary text-primary font-bold text-sm">4</button>
                <button class="w-10 h-10 rounded-xl bg-bg-cream text-text-muted font-bold text-sm">5</button>
              </div>
            </div>
            <div class="bg-white rounded-3xl p-6 shadow-card">
              <p class="text-sm font-semibold text-text-muted mb-4">Top suspects?</p>
              <div class="flex flex-wrap gap-2">
                <span class="px-4 py-2 bg-pill-selected border-2 border-primary rounded-pill text-sm font-semibold text-primary flex items-center gap-1">Poor sleep <span class="material-symbols-outlined text-sm">check</span></span>
                <span class="px-4 py-2 bg-pill-selected border-2 border-primary rounded-pill text-sm font-semibold text-primary flex items-center gap-1">Stress <span class="material-symbols-outlined text-sm">check</span></span>
                <span class="px-4 py-2 bg-white border border-gray-200 rounded-pill text-sm font-medium text-text-muted">Food</span>
              </div>
            </div>
          </div>
          <div class="absolute -bottom-4 -right-4 bg-accent-mint rounded-2xl p-4 shadow-lg">
            <div class="flex items-center gap-2"><span class="material-symbols-outlined text-teal-800">timer</span><span class="font-display font-bold text-teal-900">18 sec</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Doctor Pack Section -->
  <section id="doctor-pack" class="py-24 px-6 bg-gradient-to-b from-white to-accent-peach/5 relative overflow-hidden">
    <div class="parallax-blob absolute top-1/2 left-0 w-[400px] h-[400px] bg-accent-peach/10 rounded-full blur-3xl pointer-events-none" data-speed="0.02"></div>
    <div class="max-w-6xl mx-auto relative z-10">
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div>
          <div class="inline-flex items-center gap-2 px-4 py-2 rounded-pill bg-accent-peach/30 text-sm font-semibold text-primary mb-6"><span class="material-symbols-outlined text-lg">description</span>Doctor-ready summaries</div>
          <h2 class="font-display text-4xl md:text-5xl font-semibold text-primary mb-4">Share your patterns with your doctor.</h2>
          <p class="text-lg text-text-muted mb-8">Export predictions, triggers, and flare history in a format doctors actually read.</p>
          <a href="#" class="inline-flex items-center gap-2 bg-accent-peach hover:bg-accent-peach/90 text-white px-6 py-3 rounded-pill font-semibold transition-all hover:shadow-lg active:scale-95" data-modal-trigger data-cta-id="doctor_pack_export" data-cta-text="Export Doctor Pack"><span class="material-symbols-outlined">download</span>Export Doctor Pack</a>
        </div>
        <div class="relative">
          <div class="bg-bg-cream rounded-[2.5rem] p-8 shadow-soft border border-primary/5 hover-lift">
            <div class="bg-white rounded-2xl p-6 shadow-card mb-4">
              <div class="flex items-center justify-between mb-4">
                <div><p class="font-display font-semibold text-primary">Doctor Summary</p><p class="text-sm text-text-muted">Dec 10-24, 2024</p></div>
                <div class="w-10 h-10 rounded-xl bg-accent-peach/20 flex items-center justify-center"><span class="material-symbols-outlined text-accent-peach">picture_as_pdf</span></div>
              </div>
              <div class="h-24 flex items-end gap-1 mb-4">
                <div class="flex-1 bg-accent-mint/30 rounded-t h-[40%]"></div>
                <div class="flex-1 bg-accent-mint/30 rounded-t h-[60%]"></div>
                <div class="flex-1 bg-accent-rose/30 rounded-t h-[85%]"></div>
                <div class="flex-1 bg-accent-rose/30 rounded-t h-[75%]"></div>
                <div class="flex-1 bg-yellow-200/50 rounded-t h-[50%]"></div>
                <div class="flex-1 bg-accent-mint/30 rounded-t h-[35%]"></div>
              </div>
              <div class="grid grid-cols-2 gap-4 text-sm">
                <div class="p-3 bg-bg-cream rounded-xl"><p class="text-text-muted">Flare episodes</p><p class="font-semibold text-primary">2 in 14 days</p></div>
                <div class="p-3 bg-bg-cream rounded-xl"><p class="text-text-muted">Prediction accuracy</p><p class="font-semibold text-primary">80%</p></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Multiple Conditions Section -->
  <section class="py-24 px-6 bg-gradient-to-b from-accent-peach/5 to-bg-cream relative overflow-hidden">
    <div class="parallax-blob absolute top-0 right-1/4 w-[500px] h-[500px] bg-accent-purple/10 rounded-full blur-3xl pointer-events-none" data-speed="0.025"></div>
    <div class="max-w-4xl mx-auto text-center relative z-10">
      <div class="inline-flex items-center gap-2 px-4 py-2 rounded-pill bg-accent-purple/20 text-sm font-semibold text-primary mb-6"><span class="material-symbols-outlined text-lg">category</span>Multiple Conditions</div>
      <h2 class="font-display text-4xl md:text-5xl font-semibold text-primary mb-4">One system, many conditions—<br>without chaos.</h2>
      <p class="text-lg text-text-muted mb-10">Separate symptom sets per condition. Shared drivers. One timeline that still makes sense.</p>
      <div class="flex flex-wrap justify-center gap-3 mb-10">
        <span class="px-5 py-3 bg-white rounded-pill shadow-card border border-primary/5 text-primary font-semibold hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer">Endometriosis</span>
        <span class="px-5 py-3 bg-white rounded-pill shadow-card border border-primary/5 text-primary font-semibold hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer">PCOS</span>
        <span class="px-5 py-3 bg-white rounded-pill shadow-card border border-primary/5 text-primary font-semibold hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer">Long COVID</span>
        <span class="px-5 py-3 bg-white rounded-pill shadow-card border border-primary/5 text-primary font-semibold hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer">Chronic Fatigue</span>
        <span class="px-5 py-3 bg-white rounded-pill shadow-card border border-primary/5 text-primary font-semibold hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer">Fibromyalgia</span>
      </div>
      <a href="#" class="inline-flex items-center gap-2 text-primary font-semibold hover:gap-3 transition-all" data-modal-trigger data-cta-id="conditions_setup" data-cta-text="Set up your first focus question">Set up your first focus question<span class="material-symbols-outlined text-lg">arrow_forward</span></a>
    </div>
  </section>

  <!-- Closing CTA Section -->
  <section id="cta" class="py-24 px-6 bg-primary relative overflow-hidden">
    <div class="absolute top-0 left-0 w-full h-full opacity-10">
      <div class="parallax-blob absolute -top-20 -right-20 w-80 h-80 bg-accent-purple rounded-full blur-3xl" data-speed="0.02"></div>
      <div class="parallax-blob absolute bottom-0 -left-20 w-64 h-64 bg-accent-rose rounded-full blur-3xl" data-speed="0.03"></div>
    </div>
    <div class="max-w-4xl mx-auto text-center relative z-10">
      <div class="w-16 h-16 rounded-2xl bg-white/10 flex items-center justify-center mx-auto mb-8"><span class="material-symbols-outlined text-white text-3xl">visibility</span></div>
      <h2 class="font-display text-4xl md:text-5xl font-semibold text-white mb-6">Stop being blindsided by flares.</h2>
      <p class="text-xl text-white/80 leading-relaxed mb-4 max-w-2xl mx-auto">Chronic Life is a chat-first symptom tracker that predicts your flares — learning your body's lag effects and warning signs so you can prepare, not just react.</p>
      <p class="text-lg text-white/60 mb-10 max-w-xl mx-auto">Log in 20 seconds, capture flares on hard days, and start seeing them coming.</p>
      <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-12">
        <a href="#" class="w-full sm:w-auto h-14 px-8 bg-white hover:bg-white/95 text-primary text-lg font-bold rounded-pill shadow-lg hover:shadow-xl transition-all active:scale-95 flex items-center justify-center gap-2" data-modal-trigger data-cta-id="footer_primary" data-cta-text="Start predicting flares">Start predicting flares<span class="material-symbols-outlined">arrow_forward</span></a>
        <a href="#" class="w-full sm:w-auto h-14 px-8 bg-white/10 hover:bg-white/20 border-2 border-white/20 text-white text-lg font-bold rounded-pill transition-all active:scale-95 flex items-center justify-center gap-2" data-modal-trigger data-cta-id="footer_secondary" data-cta-text="Preview Doctor Pack">Preview Doctor Pack</a>
      </div>
      <div class="flex items-center justify-center gap-6 text-white/60 text-sm">
        <span class="flex items-center gap-2"><span class="material-symbols-outlined text-lg">lock</span>Your data stays private</span>
        <span class="flex items-center gap-2"><span class="material-symbols-outlined text-lg">cloud_off</span>Works offline</span>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-12 px-6 bg-bg-cream border-t border-primary/5">
    <div class="max-w-6xl mx-auto">
      <div class="flex flex-col md:flex-row justify-between items-center gap-6">
        <div class="flex items-center gap-2"><div class="w-8 h-8 rounded-xl bg-primary flex items-center justify-center"><span class="text-white font-display font-bold text-sm">C</span></div><span class="font-display font-semibold text-primary">Chronic Life</span></div>
        <div class="flex gap-8 text-sm font-medium text-text-muted">
          <a href="#" class="hover:text-primary transition-colors">Features</a>
          <a href="#" class="hover:text-primary transition-colors">Privacy</a>
          <a href="#" class="hover:text-primary transition-colors">Terms</a>
          <a href="#" class="hover:text-primary transition-colors">Support</a>
        </div>
        <p class="text-sm text-text-muted">© 2024 Chronic Life. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Email Signup Modal -->
  <div class="modal-overlay" id="emailModal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-container">
      <div class="modal-content">
        <div class="modal-blob-1"></div>
        <div class="modal-blob-2"></div>
        <button class="modal-close" id="modalClose" aria-label="Close modal"><span class="material-symbols-outlined text-text-muted">close</span></button>
        <div class="modal-form" id="modalForm">
          <div class="text-center mb-6">
            <div class="w-14 h-14 rounded-2xl bg-accent-purple/20 flex items-center justify-center mx-auto mb-4"><span class="material-symbols-outlined text-primary text-2xl">visibility</span></div>
            <h3 id="modalTitle" class="font-display text-2xl font-semibold text-primary mb-2">Join the waitlist</h3>
            <p class="text-text-muted text-sm">Be first to know when Chronic Life launches. See your flares coming before they hit.</p>
          </div>
          <form id="emailForm" class="space-y-4">
            <div>
              <input type="email" id="emailInput" class="modal-input" placeholder="your@email.com" required autocomplete="email" aria-label="Email address">
              <p id="emailError" class="text-accent-peach text-sm mt-2 hidden">Please enter a valid email address</p>
            </div>
            <button type="submit" class="modal-submit" id="submitBtn">Get Started<span class="material-symbols-outlined text-lg">arrow_forward</span></button>
          </form>
          <p class="text-center text-xs text-text-muted/70 mt-4"><span class="material-symbols-outlined text-xs align-middle">lock</span> No spam, ever. Unsubscribe anytime.</p>
        </div>
        <div class="modal-success" id="modalSuccess">
          <div class="success-icon"><span class="material-symbols-outlined text-white text-3xl">check</span></div>
          <h3 class="font-display text-2xl font-semibold text-primary mb-2">Thanks for your interest!</h3>
          <p class="text-text-muted mb-6">You have been added to our list. We'll reach out when Chronic Life is ready for you.</p>
          <button id="modalDone" class="modal-submit">Done<span class="material-symbols-outlined text-lg">check</span></button>
        </div>
      </div>
    </div>
  </div>

  <script>
    (function() {
      'use strict';
      const PAGE_ID = 'predict_flares';
      const SUPABASE_URL = 'https://zvpudxinbcsrfyojrhhv.supabase.co';
      const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2cHVkeGluYmNzcmZ5b2pyaGh2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5NTE3MjksImV4cCI6MjA4MjUyNzcyOX0.5vV65qusPzu7847VxbiodRU0DZG1AryUuoklX3qFAWk';
      const supabase = window.supabase ? window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY) : null;
      const UTM_PARAMS = ['utm_source', 'utm_medium', 'utm_campaign', 'utm_content', 'utm_term'];

      function generateSessionId() { return 'sess_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9); }
      function captureUTMParams() {
        const params = new URLSearchParams(window.location.search);
        const utm = {}; let hasUTM = false;
        UTM_PARAMS.forEach(param => { const value = params.get(param); if (value) { utm[param] = value; hasUTM = true; } });
        if (hasUTM) { sessionStorage.setItem('utm_data', JSON.stringify(utm)); }
        if (!sessionStorage.getItem('session_id')) { sessionStorage.setItem('session_id', generateSessionId()); }
        return utm;
      }
      function getStoredUTM() { try { return JSON.parse(sessionStorage.getItem('utm_data')) || {}; } catch { return {}; } }

      async function trackEvent(eventType, elementId = null, elementText = null) {
        if (!supabase) { return; }
        const utm = getStoredUTM(); const sessionId = sessionStorage.getItem('session_id');
        try { await supabase.from('marketing_events').insert({ event_type: eventType, utm_source: utm.utm_source || null, utm_medium: utm.utm_medium || null, utm_campaign: utm.utm_campaign || null, utm_content: utm.utm_content || null, utm_term: utm.utm_term || null, element_id: elementId, element_text: elementText, page_url: window.location.href, referrer: document.referrer || null, session_id: sessionId }); } catch (err) { console.error('Tracking error:', err); }
      }

      async function submitSignup(email) {
        if (!supabase) { return { success: false, error: 'Supabase not initialized' }; }
        const utm = getStoredUTM();
        try { const { error } = await supabase.from('beta_signups').insert({ email: email, utm_source: utm.utm_source || null, utm_medium: utm.utm_medium || null, utm_campaign: utm.utm_campaign || null, utm_content: utm.utm_content || null, utm_term: utm.utm_term || null, landing_url: window.location.href, referrer: document.referrer || null, user_agent: navigator.userAgent }); if (error) { return { success: false, error: error.message }; } await trackEvent('signup_complete', 'email_form', email); return { success: true }; } catch (err) { return { success: false, error: err.message }; }
      }

      captureUTMParams();
      trackEvent('page_view', PAGE_ID, 'Predict Flares Landing');
      window.ChronicLifeTracking = { trackEvent, submitSignup, getStoredUTM };

      const parallaxBlobs = document.querySelectorAll('.parallax-blob');
      let ticking = false, lastScrollY = 0;
      function updateParallax() { parallaxBlobs.forEach(blob => { const speed = parseFloat(blob.dataset.speed) || 0.03; blob.style.transform = `translateY(${-(lastScrollY * speed * 100)}px)`; }); ticking = false; }
      function onScroll() { lastScrollY = window.scrollY; if (!ticking) { requestAnimationFrame(updateParallax); ticking = true; } }
      window.addEventListener('scroll', onScroll, { passive: true });
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) { document.querySelectorAll('.parallax-blob, .float-card, .float-card-delayed').forEach(el => { el.style.animation = 'none'; }); }

      const modal = document.getElementById('emailModal'), modalContainer = modal.querySelector('.modal-container'), modalClose = document.getElementById('modalClose'), modalForm = document.getElementById('modalForm'), modalSuccess = document.getElementById('modalSuccess'), emailForm = document.getElementById('emailForm'), emailInput = document.getElementById('emailInput'), emailError = document.getElementById('emailError'), submitBtn = document.getElementById('submitBtn'), modalDone = document.getElementById('modalDone');
      function openModal() { modal.classList.add('active'); modalContainer.classList.add('active'); modal.setAttribute('aria-hidden', 'false'); document.body.style.overflow = 'hidden'; setTimeout(() => emailInput.focus(), 300); }
      function closeModal() { modal.classList.remove('active'); modalContainer.classList.remove('active'); modal.setAttribute('aria-hidden', 'true'); document.body.style.overflow = ''; setTimeout(() => { modalForm.classList.remove('hidden'); modalSuccess.classList.remove('active'); emailInput.value = ''; emailInput.classList.remove('error'); emailError.classList.add('hidden'); }, 300); }
      function isValidEmail(email) { return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email); }
      emailForm.addEventListener('submit', async function(e) { e.preventDefault(); const email = emailInput.value.trim(); if (!isValidEmail(email)) { emailInput.classList.add('error'); emailError.classList.remove('hidden'); return; } emailInput.classList.remove('error'); emailError.classList.add('hidden'); submitBtn.disabled = true; submitBtn.innerHTML = '<span class="material-symbols-outlined animate-spin">progress_activity</span> Submitting...'; let result = { success: true }; if (window.ChronicLifeTracking) { result = await window.ChronicLifeTracking.submitSignup(email); } if (result.success) { modalForm.classList.add('hidden'); modalSuccess.classList.add('active'); } else { emailError.textContent = result.error?.includes('duplicate') ? 'This email is already on the waitlist!' : 'Something went wrong. Please try again.'; emailError.classList.remove('hidden'); emailInput.classList.add('error'); } submitBtn.disabled = false; submitBtn.innerHTML = 'Get Started <span class="material-symbols-outlined text-lg">arrow_forward</span>'; });
      emailInput.addEventListener('input', function() { emailInput.classList.remove('error'); emailError.classList.add('hidden'); emailError.textContent = 'Please enter a valid email address'; });
      modalClose.addEventListener('click', closeModal); modalDone.addEventListener('click', closeModal); modal.addEventListener('click', function(e) { if (e.target === modal) closeModal(); }); document.addEventListener('keydown', function(e) { if (e.key === 'Escape' && modal.classList.contains('active')) closeModal(); });
      document.querySelectorAll('[data-modal-trigger]').forEach((btn, index) => { btn.addEventListener('click', function(e) { e.preventDefault(); const elementId = btn.dataset.ctaId || btn.id || btn.closest('section')?.id || `cta_${index}`; const elementText = btn.dataset.ctaText || btn.textContent?.trim().substring(0, 50) || 'Unknown CTA'; if (window.ChronicLifeTracking) { window.ChronicLifeTracking.trackEvent('cta_click', elementId, elementText); } openModal(); }); });
    })();
  </script>
</body>
</html>
