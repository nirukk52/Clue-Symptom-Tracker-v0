<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chronic Life - A second brain for foggy days</title>
  <meta name="description" content="When memory fails, your symptom history shouldn't. Chat-first tracking that thinks for you.">

  <!-- Fonts: Fraunces for display, DM Sans for body -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=Fraunces:opsz,wght@9..144,300;9..144,400;9..144,500;9..144,600;9..144,700&display=swap" rel="stylesheet">

  <!-- Supabase Client for tracking -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- Material Symbols -->
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&display=swap" rel="stylesheet">

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: "#20132E",
            "primary-light": "#f3f0fa",
            "bg-cream": "#FDFBF9",
            "bg-card": "#FFFFFF",
            "accent-peach": "#E8974F",
            "accent-blue": "#A4C8D8",
            "accent-purple": "#D0BDF4",
            "accent-mint": "#B8E3D6",
            "accent-rose": "#F4C4C4",
            "pill-hover": "#F3EFFF",
            "pill-selected": "#E0D4FC",
            "text-main": "#20132E",
            "text-muted": "#554b66",
          },
          fontFamily: {
            display: ["Fraunces", "Georgia", "serif"],
            body: ["DM Sans", "system-ui", "sans-serif"],
          },
          borderRadius: {
            DEFAULT: "12px",
            xl: "16px",
            "2xl": "24px",
            "3xl": "32px",
            "4xl": "40px",
            pill: "9999px",
          },
          boxShadow: {
            soft: "0 4px 20px -2px rgba(32, 20, 46, 0.08)",
            card: "0 2px 12px -2px rgba(32, 20, 69, 0.06)",
            glow: "0 0 60px -10px rgba(208, 189, 244, 0.4)",
          },
        },
      },
    };
  </script>
  <style>
    html { scroll-behavior: smooth; }
    body { font-family: 'DM Sans', sans-serif; }
    .font-display { font-family: 'Fraunces', Georgia, serif; }
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background-color: rgba(32, 19, 46, 0.15); border-radius: 20px; }
    @keyframes float { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-20px) rotate(3deg); } }
    @keyframes float-reverse { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(20px) rotate(-3deg); } }
    .animate-float { animation: float 8s ease-in-out infinite; }
    .animate-float-reverse { animation: float-reverse 10s ease-in-out infinite; }
    .gradient-text { background: linear-gradient(135deg, #20132E 0%, #D0BDF4 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
    .glass { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); }
    .parallax-blob { will-change: transform; transition: transform 0.1s ease-out; }
    .hover-lift { transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1), box-shadow 0.3s cubic-bezier(0.16, 1, 0.3, 1); }
    .hover-lift:hover { transform: translateY(-4px); box-shadow: 0 12px 40px -8px rgba(32, 20, 46, 0.12); }
    .hover-glow { transition: box-shadow 0.4s ease; }
    .hover-glow:hover { box-shadow: 0 0 40px -10px rgba(208, 189, 244, 0.5); }
    @keyframes subtle-float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
    .float-card { animation: subtle-float 4s ease-in-out infinite; }
    .float-card-delayed { animation: subtle-float 4s ease-in-out infinite; animation-delay: -2s; }
    @keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 0 0 rgba(208, 189, 244, 0.4); } 50% { box-shadow: 0 0 20px 4px rgba(208, 189, 244, 0.2); } }
    .pulse-glow { animation: pulse-glow 3s ease-in-out infinite; }
    .gradient-border { position: relative; }
    .gradient-border::before { content: ''; position: absolute; inset: 0; border-radius: inherit; padding: 2px; background: linear-gradient(135deg, #D0BDF4 0%, #B8E3D6 50%, #E8974F 100%); -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); -webkit-mask-composite: xor; mask-composite: exclude; opacity: 0; transition: opacity 0.4s ease; }
    .gradient-border:hover::before { opacity: 1; }
    .modal-overlay { position: fixed; inset: 0; background: rgba(32, 19, 46, 0.6); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); z-index: 100; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease; }
    .modal-overlay.active { opacity: 1; visibility: visible; }
    .modal-container { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.95); z-index: 101; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, transform 0.3s cubic-bezier(0.16, 1, 0.3, 1), visibility 0.3s ease; }
    .modal-container.active { opacity: 1; visibility: visible; transform: translate(-50%, -50%) scale(1); }
    .modal-content { background: #FDFBF9; border-radius: 2rem; padding: 2.5rem; width: 90vw; max-width: 420px; box-shadow: 0 25px 60px -15px rgba(32, 20, 46, 0.25); border: 1px solid rgba(32, 19, 46, 0.05); position: relative; overflow: hidden; }
    .modal-close { position: absolute; top: 1rem; right: 1rem; width: 2.5rem; height: 2.5rem; border-radius: 50%; background: rgba(32, 19, 46, 0.05); border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: background 0.2s ease, transform 0.2s ease; }
    .modal-close:hover { background: rgba(32, 19, 46, 0.1); transform: scale(1.05); }
    .modal-input { width: 100%; padding: 1rem 1.25rem; border-radius: 9999px; border: 2px solid rgba(32, 19, 46, 0.1); font-size: 1rem; font-family: 'DM Sans', sans-serif; background: white; color: #20132E; outline: none; transition: border-color 0.2s ease, box-shadow 0.2s ease; }
    .modal-input:focus { border-color: #D0BDF4; box-shadow: 0 0 0 4px rgba(208, 189, 244, 0.2); }
    .modal-input::placeholder { color: #554b66; opacity: 0.6; }
    .modal-input.error { border-color: #E8974F; animation: shake 0.4s ease; }
    @keyframes shake { 0%, 100% { transform: translateX(0); } 20%, 60% { transform: translateX(-6px); } 40%, 80% { transform: translateX(6px); } }
    .modal-submit { width: 100%; padding: 1rem 1.5rem; border-radius: 9999px; background: #20132E; color: white; font-size: 1rem; font-weight: 700; font-family: 'DM Sans', sans-serif; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 0.5rem; transition: background 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease; }
    .modal-submit:hover { background: rgba(32, 19, 46, 0.9); box-shadow: 0 8px 24px -4px rgba(32, 20, 46, 0.3); }
    .modal-submit:active { transform: scale(0.98); }
    .modal-submit:disabled { opacity: 0.6; cursor: not-allowed; }
    .modal-success { display: none; text-align: center; }
    .modal-success.active { display: block; animation: fadeInUp 0.4s ease; }
    .modal-form.hidden { display: none; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    .success-icon { width: 4rem; height: 4rem; border-radius: 50%; background: linear-gradient(135deg, #B8E3D6 0%, #A4C8D8 100%); display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem; animation: scaleIn 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
    @keyframes scaleIn { from { transform: scale(0); } to { transform: scale(1); } }
    .modal-blob-1 { position: absolute; top: -2rem; right: -2rem; width: 6rem; height: 6rem; background: rgba(208, 189, 244, 0.4); border-radius: 2rem; transform: rotate(12deg); filter: blur(20px); pointer-events: none; }
    .modal-blob-2 { position: absolute; bottom: -1.5rem; left: -1.5rem; width: 5rem; height: 5rem; background: rgba(184, 227, 214, 0.5); border-radius: 50%; filter: blur(15px); pointer-events: none; }
  </style>
</head>
<body class="bg-bg-cream text-text-main antialiased overflow-x-hidden">

  <!-- Navigation -->
  <nav class="fixed top-0 left-0 right-0 z-50 glass border-b border-primary/5">
    <div class="max-w-6xl mx-auto px-6 h-20 flex items-center justify-between">
      <a href="/" class="flex items-center gap-2">
        <div class="w-10 h-10 rounded-2xl bg-primary flex items-center justify-center">
          <span class="text-white font-display font-bold text-lg">C</span>
        </div>
        <span class="text-xl font-display font-semibold text-primary">Chronic Life</span>
      </a>
      <div class="hidden md:flex items-center gap-8 text-sm font-semibold text-text-muted">
        <a href="#assistant" class="hover:text-primary transition-colors">Assistant</a>
        <a href="#history" class="hover:text-primary transition-colors">History</a>
        <a href="#quick-checkins" class="hover:text-primary transition-colors">Quick Check-ins</a>
        <a href="#insights" class="hover:text-primary transition-colors">Insights</a>
      </div>
      <div class="flex items-center gap-3">
        <a href="#" class="text-sm font-semibold text-text-muted hover:text-primary transition-colors hidden sm:block" data-modal-trigger data-cta-id="nav_login" data-cta-text="Log In">Log In</a>
        <a href="#" class="bg-primary hover:bg-primary/90 text-white text-sm font-bold px-5 py-2.5 rounded-pill transition-all hover:shadow-lg active:scale-95" data-modal-trigger data-cta-id="nav_get_started" data-cta-text="Get Started">Get Started</a>
      </div>
    </div>
  </nav>

  <!-- Hero Section - CUSTOMIZED FOR FOGGY MINDS -->
  <header class="relative min-h-screen pt-32 pb-20 px-6 overflow-hidden">
    <div class="parallax-blob absolute -top-20 -right-20 w-80 h-80 bg-accent-purple/40 rounded-[4rem] rotate-12 blur-3xl animate-float pointer-events-none" data-speed="0.05"></div>
    <div class="parallax-blob absolute top-1/3 -left-20 w-64 h-64 bg-accent-blue/40 rounded-full blur-3xl animate-float-reverse pointer-events-none" data-speed="0.03"></div>
    <div class="parallax-blob absolute bottom-20 right-1/4 w-96 h-96 bg-accent-purple/30 rounded-[5rem] -rotate-12 blur-3xl animate-float pointer-events-none" data-speed="0.04"></div>
    <div class="parallax-blob absolute bottom-40 -left-10 w-48 h-48 bg-accent-mint/50 rounded-full blur-2xl animate-float-reverse pointer-events-none" data-speed="0.02"></div>

    <div class="max-w-5xl mx-auto relative z-10">
      <div class="text-center max-w-3xl mx-auto mb-16">
        <!-- Badge - Brain fog focused -->
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-pill bg-accent-purple/30 text-sm font-semibold text-primary mb-8 pulse-glow">
          <span class="material-symbols-outlined text-lg">psychology</span>
          Designed for brain fog
        </div>

        <h1 class="font-display text-5xl md:text-7xl font-semibold text-primary leading-[1.1] mb-6">
          A second brain for<br>
          <span class="gradient-text">foggy days.</span>
        </h1>

        <p class="text-xl text-text-muted leading-relaxed mb-4 max-w-2xl mx-auto">
          When memory fails, your symptom history shouldn't. Chat-first tracking that thinks for you.
        </p>

        <p class="text-lg text-text-muted/80 leading-relaxed mb-10 max-w-xl mx-auto">
          Stop struggling to remember. Let it remember for you.
        </p>

        <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
          <a href="#" class="w-full sm:w-auto h-14 px-8 bg-primary hover:bg-primary/90 text-white text-lg font-bold rounded-pill shadow-lg hover:shadow-xl transition-all active:scale-95 flex items-center justify-center gap-2 hover-glow" data-modal-trigger data-cta-id="hero_primary" data-cta-text="Let it remember for you">
            Let it remember for you
            <span class="material-symbols-outlined">arrow_forward</span>
          </a>
          <a href="#assistant" class="w-full sm:w-auto h-14 px-8 bg-white hover:bg-pill-hover border-2 border-primary/10 text-primary text-lg font-bold rounded-pill transition-all active:scale-95 flex items-center justify-center gap-2">
            See how it works with brain fog
          </a>
        </div>
      </div>

      <!-- Hero Visual Card -->
      <div class="relative max-w-4xl mx-auto">
        <div class="bg-white rounded-[2.5rem] p-6 md:p-8 shadow-soft border border-primary/5 hover-lift">
          <div class="flex flex-col md:flex-row gap-6">
            <!-- Chat Assistant Preview -->
            <div class="flex-1 bg-bg-cream rounded-3xl p-6">
              <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 rounded-xl bg-accent-purple/40 flex items-center justify-center">
                  <span class="material-symbols-outlined text-primary">smart_toy</span>
                </div>
                <div>
                  <p class="font-semibold text-primary">Your Second Brain</p>
                  <p class="text-sm text-text-muted">Always remembering</p>
                </div>
              </div>
              <div class="space-y-3">
                <div class="bg-white rounded-2xl rounded-bl-none p-4 shadow-card">
                  <p class="text-sm text-primary leading-relaxed">You asked about this last Tuesday. Your fatigue was at 7/10 and you'd just started a new medication.</p>
                </div>
                <div class="bg-primary rounded-2xl rounded-br-none p-4 ml-8">
                  <p class="text-sm text-white/95">What medication was that?</p>
                </div>
                <div class="bg-white rounded-2xl rounded-bl-none p-4 shadow-card">
                  <p class="text-sm text-primary leading-relaxed">It was the new anti-inflammatory your rheumatologist prescribed on Dec 15th.</p>
                </div>
              </div>
            </div>

            <!-- Memory Recall Preview -->
            <div class="flex-1 bg-bg-cream rounded-3xl p-6">
              <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 rounded-xl bg-accent-mint/40 flex items-center justify-center">
                  <span class="material-symbols-outlined text-primary">history</span>
                </div>
                <div>
                  <p class="font-semibold text-primary">Instant Recall</p>
                  <p class="text-sm text-text-muted">When you can't remember</p>
                </div>
              </div>
              <div class="space-y-3">
                <div class="bg-white rounded-2xl p-4 shadow-card">
                  <p class="text-xs text-text-muted mb-1">Last similar flare</p>
                  <p class="font-semibold text-primary">Dec 18 — lasted 2 days</p>
                </div>
                <div class="bg-white rounded-2xl p-4 shadow-card">
                  <p class="text-xs text-text-muted mb-1">What helped that time</p>
                  <p class="font-semibold text-primary">Rest, ibuprofen, early bedtime</p>
                </div>
                <div class="bg-white rounded-2xl p-4 shadow-card">
                  <p class="text-xs text-text-muted mb-1">Pattern noticed</p>
                  <p class="font-semibold text-primary">Flares often follow poor sleep + stress</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Floating Stats -->
        <div class="absolute -bottom-6 -left-6 bg-white rounded-2xl p-4 shadow-card border border-primary/5 hidden md:block float-card hover-lift">
          <div class="flex items-center gap-3">
            <div class="w-12 h-12 rounded-xl bg-accent-purple/30 flex items-center justify-center">
              <span class="material-symbols-outlined text-purple-700">psychology</span>
            </div>
            <div>
              <p class="text-2xl font-display font-bold text-primary">∞</p>
              <p class="text-xs text-text-muted">memory capacity</p>
            </div>
          </div>
        </div>

        <div class="absolute -top-4 -right-4 bg-white rounded-2xl p-4 shadow-card border border-primary/5 hidden md:block float-card-delayed hover-lift">
          <div class="flex items-center gap-3">
            <div class="w-12 h-12 rounded-xl bg-accent-mint/30 flex items-center justify-center">
              <span class="material-symbols-outlined text-teal-700">search</span>
            </div>
            <div>
              <p class="text-2xl font-display font-bold text-primary">Ask</p>
              <p class="text-xs text-text-muted">anything</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Personal Assistant Section - FOCUS FEATURE -->
  <section id="assistant" class="py-24 px-6 bg-gradient-to-b from-bg-cream to-white relative overflow-hidden">
    <div class="parallax-blob absolute top-0 right-0 w-[600px] h-[600px] bg-accent-purple/10 rounded-full blur-3xl pointer-events-none" data-speed="0.02"></div>

    <div class="max-w-6xl mx-auto relative z-10">
      <div class="text-center max-w-2xl mx-auto mb-16">
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-pill bg-accent-purple/20 text-sm font-semibold text-primary mb-6">
          <span class="material-symbols-outlined text-lg">smart_toy</span>
          Your Personal Assistant
        </div>

        <h2 class="font-display text-4xl md:text-5xl font-semibold text-primary mb-4">
          Not just tracking—<br>someone helping you steer.
        </h2>
        <p class="text-lg text-text-muted">Built for chronic life. Learns your patterns, adapts to your energy.</p>
      </div>

      <div class="grid md:grid-cols-2 gap-8 mb-12">
        <div class="bg-white rounded-[2rem] p-8 shadow-soft border border-primary/5 hover-lift gradient-border">
          <h3 class="font-display text-2xl font-semibold text-primary mb-6 flex items-center gap-3">
            <div class="w-10 h-10 rounded-xl bg-accent-peach/30 flex items-center justify-center">
              <span class="material-symbols-outlined text-accent-peach">auto_awesome</span>
            </div>
            What it does
          </h3>
          <ul class="space-y-4">
            <li class="flex items-start gap-3"><span class="material-symbols-outlined text-accent-mint mt-0.5">check_circle</span><span class="text-text-muted">Turns "I feel awful" into a clean log in seconds</span></li>
            <li class="flex items-start gap-3"><span class="material-symbols-outlined text-accent-mint mt-0.5">check_circle</span><span class="text-text-muted">Asks only the next best question (no interrogation)</span></li>
            <li class="flex items-start gap-3"><span class="material-symbols-outlined text-accent-mint mt-0.5">check_circle</span><span class="text-text-muted">Spots when something is changing early</span></li>
            <li class="flex items-start gap-3"><span class="material-symbols-outlined text-accent-mint mt-0.5">check_circle</span><span class="text-text-muted">Suggests tiny actions you can actually do today</span></li>
            <li class="flex items-start gap-3"><span class="material-symbols-outlined text-accent-mint mt-0.5">check_circle</span><span class="text-text-muted">Preps a visit summary when you say "I have an appointment"</span></li>
          </ul>
        </div>

        <div class="bg-gradient-to-br from-accent-purple/10 to-accent-mint/10 rounded-[2rem] p-8 border border-accent-purple/20 hover-lift">
          <h3 class="font-display text-2xl font-semibold text-primary mb-6 flex items-center gap-3">
            <div class="w-10 h-10 rounded-xl bg-white flex items-center justify-center shadow-sm">
              <span class="material-symbols-outlined text-primary">favorite</span>
            </div>
            Why it feels personal
          </h3>
          <ul class="space-y-4">
            <li class="flex items-start gap-3"><span class="material-symbols-outlined text-accent-purple mt-0.5">star</span><span class="text-text-muted">Learns your common triggers and meds</span></li>
            <li class="flex items-start gap-3"><span class="material-symbols-outlined text-accent-purple mt-0.5">star</span><span class="text-text-muted">Adapts on low-energy days</span></li>
            <li class="flex items-start gap-3"><span class="material-symbols-outlined text-accent-purple mt-0.5">star</span><span class="text-text-muted">Keeps your Quick Entry small and relevant</span></li>
          </ul>
          <a href="#" class="inline-flex items-center gap-2 mt-8 text-primary font-semibold hover:gap-3 transition-all" data-modal-trigger data-cta-id="assistant_examples" data-cta-text="See assistant examples">See assistant examples<span class="material-symbols-outlined text-lg">arrow_forward</span></a>
        </div>
      </div>
    </div>
  </section>

  <!-- History Section -->
  <section id="history" class="py-24 px-6 bg-white relative overflow-hidden">
    <div class="parallax-blob absolute top-0 left-1/4 w-[500px] h-[500px] bg-accent-blue/10 rounded-full blur-3xl pointer-events-none" data-speed="0.02"></div>

    <div class="max-w-6xl mx-auto relative z-10">
      <div class="text-center max-w-2xl mx-auto mb-16">
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-pill bg-accent-blue/20 text-sm font-semibold text-primary mb-6">
          <span class="material-symbols-outlined text-lg">history</span>
          History View
        </div>
        <h2 class="font-display text-4xl md:text-5xl font-semibold text-primary mb-4">History that works with brain fog.</h2>
        <p class="text-lg text-text-muted">Stop guessing. Tap a day and see the story.</p>
      </div>

      <div class="grid md:grid-cols-2 gap-8">
        <div class="bg-bg-cream rounded-[2rem] p-8 hover-lift">
          <h3 class="font-display text-xl font-semibold text-primary mb-6">Day cards show everything</h3>
          <div class="space-y-4">
            <div class="bg-white rounded-2xl p-5 shadow-card border border-primary/5">
              <div class="flex items-center justify-between mb-4">
                <div><p class="font-semibold text-primary">Tuesday, Dec 24</p><p class="text-sm text-text-muted">Moderate day</p></div>
                <div class="w-10 h-10 rounded-xl bg-yellow-100 flex items-center justify-center"><span class="material-symbols-outlined text-yellow-600">sentiment_neutral</span></div>
              </div>
              <div class="grid grid-cols-2 gap-3 text-sm">
                <div><p class="text-text-muted">Symptoms</p><p class="font-medium text-primary">Fatigue (6), Pain (4)</p></div>
                <div><p class="text-text-muted">Meds</p><p class="font-medium text-primary">Ibuprofen 2pm</p></div>
                <div><p class="text-text-muted">Triggers</p><p class="font-medium text-primary">Poor sleep, Stress</p></div>
                <div><p class="text-text-muted">Notes</p><p class="font-medium text-primary">Deadline week</p></div>
              </div>
            </div>
            <div class="bg-white rounded-2xl p-5 shadow-card border border-primary/5 opacity-70">
              <div class="flex items-center justify-between mb-4">
                <div><p class="font-semibold text-primary">Monday, Dec 23</p><p class="text-sm text-text-muted">Good day</p></div>
                <div class="w-10 h-10 rounded-xl bg-green-100 flex items-center justify-center"><span class="material-symbols-outlined text-green-600">sentiment_satisfied</span></div>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-gradient-to-br from-accent-purple/10 to-accent-blue/10 rounded-[2rem] p-8 hover-lift">
          <h3 class="font-display text-xl font-semibold text-primary mb-6">Fast answers to common questions</h3>
          <div class="space-y-4">
            <div class="bg-white/80 backdrop-blur rounded-2xl p-5"><p class="text-primary font-medium mb-2">"When did this last happen?"</p><p class="text-sm text-text-muted">Similar flare on Dec 18 — lasted 2 days</p></div>
            <div class="bg-white/80 backdrop-blur rounded-2xl p-5"><p class="text-primary font-medium mb-2">"How long did it last?"</p><p class="text-sm text-text-muted">Your average flare duration: 1.5 days</p></div>
            <div class="bg-white/80 backdrop-blur rounded-2xl p-5"><p class="text-primary font-medium mb-2">"What did I try that day?"</p><p class="text-sm text-text-muted">Rest, ibuprofen at 2pm, early bedtime</p></div>
          </div>
          <a href="#" class="inline-flex items-center gap-2 mt-6 text-primary font-semibold hover:gap-3 transition-all" data-modal-trigger data-cta-id="history_view" data-cta-text="See History View">See History View<span class="material-symbols-outlined text-lg">arrow_forward</span></a>
        </div>
      </div>
    </div>
  </section>

  <!-- Quick Check-ins Section -->
  <section id="quick-checkins" class="py-24 px-6 bg-gradient-to-b from-white to-accent-blue/10 relative overflow-hidden">
    <div class="parallax-blob absolute bottom-0 left-0 w-[500px] h-[500px] bg-accent-blue/10 rounded-full blur-3xl pointer-events-none" data-speed="0.03"></div>

    <div class="max-w-6xl mx-auto relative z-10">
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div>
          <div class="inline-flex items-center gap-2 px-4 py-2 rounded-pill bg-accent-blue/20 text-sm font-semibold text-primary mb-6"><span class="material-symbols-outlined text-lg">bolt</span>Quick Check-ins</div>
          <h2 class="font-display text-4xl md:text-5xl font-semibold text-primary mb-4">20 seconds.<br>That's it.</h2>
          <p class="text-lg text-text-muted mb-8">Quick check-ins. Flare mode. Evidence-backed insights. Everything designed to respect your energy.</p>
          <div class="space-y-6 mb-8">
            <div>
              <h4 class="font-semibold text-primary mb-2">What you do</h4>
              <ul class="space-y-2 text-text-muted">
                <li class="flex items-center gap-2"><span class="w-1.5 h-1.5 rounded-full bg-accent-peach"></span>Tap your top outcome (0–10)</li>
                <li class="flex items-center gap-2"><span class="w-1.5 h-1.5 rounded-full bg-accent-peach"></span>Pick 1–3 "top suspects"</li>
                <li class="flex items-center gap-2"><span class="w-1.5 h-1.5 rounded-full bg-accent-peach"></span>Optional: one note, one timestamp</li>
              </ul>
            </div>
            <div>
              <h4 class="font-semibold text-primary mb-2">Why it feels easy</h4>
              <ul class="space-y-2 text-text-muted">
                <li class="flex items-center gap-2"><span class="w-1.5 h-1.5 rounded-full bg-accent-mint"></span>Everything important is one screen</li>
                <li class="flex items-center gap-2"><span class="w-1.5 h-1.5 rounded-full bg-accent-mint"></span>Defaults remember your patterns</li>
                <li class="flex items-center gap-2"><span class="w-1.5 h-1.5 rounded-full bg-accent-mint"></span>No "form bloat" over time</li>
              </ul>
            </div>
          </div>
          <a href="#" class="inline-flex items-center gap-2 text-primary font-semibold hover:gap-3 transition-all" data-modal-trigger data-cta-id="quick_checkins_try" data-cta-text="Try Quick Entry">Try Quick Entry<span class="material-symbols-outlined text-lg">arrow_forward</span></a>
        </div>
        <div class="relative">
          <div class="bg-bg-cream rounded-[2.5rem] p-8 shadow-soft border border-primary/5 hover-lift">
            <div class="bg-white rounded-3xl p-6 shadow-card mb-6">
              <p class="text-sm font-semibold text-text-muted mb-4">How's your energy today?</p>
              <div class="flex gap-2 mb-4">
                <button class="w-10 h-10 rounded-xl bg-bg-cream text-text-muted font-bold text-sm">1</button>
                <button class="w-10 h-10 rounded-xl bg-bg-cream text-text-muted font-bold text-sm">2</button>
                <button class="w-10 h-10 rounded-xl bg-bg-cream text-text-muted font-bold text-sm">3</button>
                <button class="w-10 h-10 rounded-xl bg-pill-selected border-2 border-primary text-primary font-bold text-sm">4</button>
                <button class="w-10 h-10 rounded-xl bg-bg-cream text-text-muted font-bold text-sm">5</button>
              </div>
            </div>
            <div class="bg-white rounded-3xl p-6 shadow-card">
              <p class="text-sm font-semibold text-text-muted mb-4">Top suspects?</p>
              <div class="flex flex-wrap gap-2">
                <span class="px-4 py-2 bg-pill-selected border-2 border-primary rounded-pill text-sm font-semibold text-primary flex items-center gap-1">Poor sleep <span class="material-symbols-outlined text-sm">check</span></span>
                <span class="px-4 py-2 bg-pill-selected border-2 border-primary rounded-pill text-sm font-semibold text-primary flex items-center gap-1">Stress <span class="material-symbols-outlined text-sm">check</span></span>
                <span class="px-4 py-2 bg-white border border-gray-200 rounded-pill text-sm font-medium text-text-muted">Food</span>
                <span class="px-4 py-2 bg-white border border-gray-200 rounded-pill text-sm font-medium text-text-muted">Meds</span>
              </div>
            </div>
          </div>
          <div class="absolute -bottom-4 -right-4 bg-accent-mint rounded-2xl p-4 shadow-lg">
            <div class="flex items-center gap-2"><span class="material-symbols-outlined text-teal-800">timer</span><span class="font-display font-bold text-teal-900">18 sec</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Flare Mode Section -->
  <section id="flare-mode" class="py-24 px-6 bg-gradient-to-b from-accent-blue/10 to-accent-rose/10 relative overflow-hidden">
    <div class="parallax-blob absolute top-1/2 right-0 w-[400px] h-[400px] bg-accent-peach/10 rounded-full blur-3xl pointer-events-none" data-speed="0.025"></div>
    <div class="max-w-6xl mx-auto relative z-10">
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div class="order-2 md:order-1">
          <div class="bg-white rounded-[2.5rem] p-8 shadow-soft border border-accent-rose/20 hover-lift">
            <div class="flex items-center justify-between mb-6">
              <div class="flex items-center gap-3">
                <div class="w-12 h-12 rounded-xl bg-accent-rose/30 flex items-center justify-center"><span class="material-symbols-outlined text-red-600">warning</span></div>
                <div><p class="font-semibold text-primary">Flare Mode</p><p class="text-sm text-text-muted">Simplified tracking</p></div>
              </div>
              <div class="w-12 h-6 bg-accent-rose rounded-pill relative"><div class="absolute right-1 top-1 w-4 h-4 bg-white rounded-full shadow-sm"></div></div>
            </div>
            <div class="space-y-4">
              <button class="w-full p-4 bg-accent-rose/20 rounded-2xl text-left">
                <div class="flex items-center gap-3"><span class="material-symbols-outlined text-red-600">local_fire_department</span><div><p class="font-semibold text-primary">I'm in a flare</p><p class="text-sm text-text-muted">One tap to log it</p></div></div>
              </button>
              <div class="grid grid-cols-2 gap-3">
                <div class="p-3 bg-bg-cream rounded-xl"><p class="text-xs text-text-muted mb-1">Severity</p><p class="font-semibold text-primary">7/10</p></div>
                <div class="p-3 bg-bg-cream rounded-xl"><p class="text-xs text-text-muted mb-1">Started</p><p class="font-semibold text-primary">6:30 AM</p></div>
              </div>
            </div>
          </div>
        </div>
        <div class="order-1 md:order-2">
          <div class="inline-flex items-center gap-2 px-4 py-2 rounded-pill bg-accent-rose/30 text-sm font-semibold text-primary mb-6"><span class="material-symbols-outlined text-lg">local_fire_department</span>Flare Mode</div>
          <h2 class="font-display text-4xl md:text-5xl font-semibold text-primary mb-4">Log the flare without explaining your whole life.</h2>
          <p class="text-lg text-text-muted mb-8">Designed for bad days. When you're not okay, the last thing you need is a complex form.</p>
          <a href="#" class="inline-flex items-center gap-2 text-primary font-semibold hover:gap-3 transition-all" data-modal-trigger data-cta-id="flare_mode_turn_on" data-cta-text="Turn on Flare Mode">Turn on Flare Mode<span class="material-symbols-outlined text-lg">arrow_forward</span></a>
        </div>
      </div>
    </div>
  </section>

  <!-- Insights Section -->
  <section id="insights" class="py-24 px-6 bg-gradient-to-b from-accent-rose/10 to-accent-mint/10 relative overflow-hidden">
    <div class="parallax-blob absolute bottom-0 right-0 w-[600px] h-[600px] bg-accent-mint/10 rounded-full blur-3xl pointer-events-none" data-speed="0.03"></div>
    <div class="max-w-6xl mx-auto relative z-10">
      <div class="text-center max-w-2xl mx-auto mb-16">
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-pill bg-accent-mint/30 text-sm font-semibold text-primary mb-6"><span class="material-symbols-outlined text-lg">psychology</span>Evidence-backed insights</div>
        <h2 class="font-display text-4xl md:text-5xl font-semibold text-primary mb-4">No vibes. Only receipts.</h2>
        <p class="text-lg text-text-muted">Chronic Life only calls a pattern when it can show the data behind it.</p>
      </div>
      <div class="grid md:grid-cols-3 gap-6 mb-12">
        <div class="bg-white rounded-[2rem] p-6 shadow-soft border border-primary/5 md:col-span-2 hover-lift">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 rounded-xl bg-accent-purple/30 flex items-center justify-center"><span class="material-symbols-outlined text-purple-700">trending_up</span></div>
            <div><p class="font-semibold text-primary">Pattern Detected</p><p class="text-sm text-text-muted">Based on 14 data points</p></div>
          </div>
          <div class="bg-bg-cream rounded-2xl p-5 mb-4"><p class="text-lg text-primary leading-relaxed"><span class="font-semibold">Your fatigue increases 40%</span> on days following less than 6 hours of sleep.</p></div>
          <div class="flex flex-wrap gap-4 text-sm text-text-muted">
            <span class="flex items-center gap-1"><span class="material-symbols-outlined text-base">calendar_month</span>Dec 10-24, 2024</span>
            <span class="flex items-center gap-1"><span class="material-symbols-outlined text-base">data_array</span>14 entries analyzed</span>
            <span class="flex items-center gap-1"><span class="material-symbols-outlined text-base">verified</span>High confidence</span>
          </div>
        </div>
        <div class="bg-gradient-to-br from-accent-mint/20 to-accent-blue/20 rounded-[2rem] p-6 border border-accent-mint/30 hover-lift">
          <h4 class="font-display text-lg font-semibold text-primary mb-4">Why this matters</h4>
          <ul class="space-y-3 text-text-muted text-sm">
            <li class="flex items-start gap-2"><span class="material-symbols-outlined text-accent-mint text-base mt-0.5">check</span>You can trust it</li>
            <li class="flex items-start gap-2"><span class="material-symbols-outlined text-accent-mint text-base mt-0.5">check</span>You can repeat what worked</li>
            <li class="flex items-start gap-2"><span class="material-symbols-outlined text-accent-mint text-base mt-0.5">check</span>You can show it to a clinician</li>
          </ul>
          <a href="#" class="inline-flex items-center gap-2 mt-6 text-primary font-semibold text-sm hover:gap-3 transition-all" data-modal-trigger data-cta-id="insights_example" data-cta-text="See an example insight">See an example insight<span class="material-symbols-outlined text-base">arrow_forward</span></a>
        </div>
      </div>
    </div>
  </section>

  <!-- Doctor Pack Section -->
  <section id="doctor-pack" class="py-24 px-6 bg-white relative overflow-hidden">
    <div class="parallax-blob absolute top-1/2 left-0 w-[400px] h-[400px] bg-accent-peach/10 rounded-full blur-3xl pointer-events-none" data-speed="0.02"></div>
    <div class="max-w-6xl mx-auto relative z-10">
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div>
          <div class="inline-flex items-center gap-2 px-4 py-2 rounded-pill bg-accent-peach/30 text-sm font-semibold text-primary mb-6"><span class="material-symbols-outlined text-lg">description</span>Doctor-ready summaries</div>
          <h2 class="font-display text-4xl md:text-5xl font-semibold text-primary mb-4">Scan in 30 seconds.</h2>
          <p class="text-lg text-text-muted mb-8">Export something your doctor will actually read. Designed by physicians, for physicians.</p>
          <div class="space-y-4 mb-8">
            <h4 class="font-semibold text-primary">Doctor Pack includes:</h4>
            <ul class="space-y-3 text-text-muted">
              <li class="flex items-center gap-3"><span class="material-symbols-outlined text-accent-peach">check_circle</span>2–4 week trend snapshot (clean graphs)</li>
              <li class="flex items-center gap-3"><span class="material-symbols-outlined text-accent-peach">check_circle</span>Flare frequency + duration</li>
              <li class="flex items-center gap-3"><span class="material-symbols-outlined text-accent-peach">check_circle</span>Top suspected drivers you tagged</li>
              <li class="flex items-center gap-3"><span class="material-symbols-outlined text-accent-peach">check_circle</span>One-page "what I need help with" summary</li>
            </ul>
          </div>
          <a href="#" class="inline-flex items-center gap-2 bg-accent-peach hover:bg-accent-peach/90 text-white px-6 py-3 rounded-pill font-semibold transition-all hover:shadow-lg active:scale-95" data-modal-trigger data-cta-id="doctor_pack_export" data-cta-text="Export Doctor Pack"><span class="material-symbols-outlined">download</span>Export Doctor Pack</a>
        </div>
        <div class="relative">
          <div class="bg-bg-cream rounded-[2.5rem] p-8 shadow-soft border border-primary/5 hover-lift">
            <div class="bg-white rounded-2xl p-6 shadow-card mb-4">
              <div class="flex items-center justify-between mb-4">
                <div><p class="font-display font-semibold text-primary">Doctor Summary</p><p class="text-sm text-text-muted">Dec 10-24, 2024</p></div>
                <div class="w-10 h-10 rounded-xl bg-accent-peach/20 flex items-center justify-center"><span class="material-symbols-outlined text-accent-peach">picture_as_pdf</span></div>
              </div>
              <div class="h-24 flex items-end gap-1 mb-4">
                <div class="flex-1 bg-accent-mint/30 rounded-t h-[40%]"></div>
                <div class="flex-1 bg-accent-mint/30 rounded-t h-[60%]"></div>
                <div class="flex-1 bg-accent-rose/30 rounded-t h-[85%]"></div>
                <div class="flex-1 bg-accent-rose/30 rounded-t h-[75%]"></div>
                <div class="flex-1 bg-yellow-200/50 rounded-t h-[50%]"></div>
                <div class="flex-1 bg-accent-mint/30 rounded-t h-[35%]"></div>
                <div class="flex-1 bg-accent-mint/30 rounded-t h-[30%]"></div>
              </div>
              <div class="grid grid-cols-2 gap-4 text-sm">
                <div class="p-3 bg-bg-cream rounded-xl"><p class="text-text-muted">Flare episodes</p><p class="font-semibold text-primary">2 in 14 days</p></div>
                <div class="p-3 bg-bg-cream rounded-xl"><p class="text-text-muted">Avg duration</p><p class="font-semibold text-primary">1.5 days</p></div>
              </div>
            </div>
            <div class="text-center text-sm text-text-muted"><span class="material-symbols-outlined text-base align-middle">print</span> Print-friendly • PDF export</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Multiple Conditions Section -->
  <section class="py-24 px-6 bg-gradient-to-b from-white to-accent-purple/5 relative overflow-hidden">
    <div class="parallax-blob absolute top-0 right-1/4 w-[500px] h-[500px] bg-accent-purple/10 rounded-full blur-3xl pointer-events-none" data-speed="0.025"></div>
    <div class="max-w-4xl mx-auto text-center relative z-10">
      <div class="inline-flex items-center gap-2 px-4 py-2 rounded-pill bg-accent-purple/20 text-sm font-semibold text-primary mb-6"><span class="material-symbols-outlined text-lg">category</span>Multiple Conditions</div>
      <h2 class="font-display text-4xl md:text-5xl font-semibold text-primary mb-4">One system, many conditions—<br>without chaos.</h2>
      <p class="text-lg text-text-muted mb-10">Separate symptom sets per condition. Shared drivers. One timeline that still makes sense.</p>
      <div class="flex flex-wrap justify-center gap-3 mb-10">
        <span class="px-5 py-3 bg-white rounded-pill shadow-card border border-primary/5 text-primary font-semibold hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer">Endometriosis</span>
        <span class="px-5 py-3 bg-white rounded-pill shadow-card border border-primary/5 text-primary font-semibold hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer">PCOS</span>
        <span class="px-5 py-3 bg-white rounded-pill shadow-card border border-primary/5 text-primary font-semibold hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer">Long COVID</span>
        <span class="px-5 py-3 bg-white rounded-pill shadow-card border border-primary/5 text-primary font-semibold hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer">Chronic Fatigue</span>
        <span class="px-5 py-3 bg-white rounded-pill shadow-card border border-primary/5 text-primary font-semibold hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer">Fibromyalgia</span>
        <span class="px-5 py-3 bg-white rounded-pill shadow-card border border-primary/5 text-primary font-semibold hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer">POTS</span>
        <span class="px-5 py-3 bg-white rounded-pill shadow-card border border-primary/5 text-primary font-semibold hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer">Migraine</span>
        <span class="px-5 py-3 bg-white rounded-pill shadow-card border border-primary/5 text-primary font-semibold hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer">IBS</span>
      </div>
      <a href="#" class="inline-flex items-center gap-2 text-primary font-semibold hover:gap-3 transition-all" data-modal-trigger data-cta-id="conditions_setup" data-cta-text="Set up your first focus question">Set up your first focus question<span class="material-symbols-outlined text-lg">arrow_forward</span></a>
    </div>
  </section>

  <!-- Closing CTA Section -->
  <section id="cta" class="py-24 px-6 bg-primary relative overflow-hidden">
    <div class="absolute top-0 left-0 w-full h-full opacity-10">
      <div class="parallax-blob absolute -top-20 -right-20 w-80 h-80 bg-accent-purple rounded-full blur-3xl" data-speed="0.02"></div>
      <div class="parallax-blob absolute bottom-0 -left-20 w-64 h-64 bg-accent-purple rounded-full blur-3xl" data-speed="0.03"></div>
      <div class="parallax-blob absolute top-1/2 right-1/4 w-48 h-48 bg-accent-mint rounded-full blur-3xl" data-speed="0.015"></div>
    </div>
    <div class="max-w-4xl mx-auto text-center relative z-10">
      <div class="w-16 h-16 rounded-2xl bg-white/10 flex items-center justify-center mx-auto mb-8"><span class="material-symbols-outlined text-white text-3xl">psychology</span></div>
      <h2 class="font-display text-4xl md:text-5xl font-semibold text-white mb-6">Your memory fails. Your tracker shouldn't.</h2>
      <p class="text-xl text-white/80 leading-relaxed mb-4 max-w-2xl mx-auto">Chronic Life is a chat-first symptom tracker that acts as your second brain — remembering patterns, connections, and details so you don't have to.</p>
      <p class="text-lg text-white/60 mb-10 max-w-xl mx-auto">Log in 20 seconds, capture flares on hard days, and export doctor-ready summaries with clean trends.</p>
      <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-12">
        <a href="#" class="w-full sm:w-auto h-14 px-8 bg-white hover:bg-white/95 text-primary text-lg font-bold rounded-pill shadow-lg hover:shadow-xl transition-all active:scale-95 flex items-center justify-center gap-2" data-modal-trigger data-cta-id="footer_primary" data-cta-text="Let it remember for you">Let it remember for you<span class="material-symbols-outlined">arrow_forward</span></a>
        <a href="#" class="w-full sm:w-auto h-14 px-8 bg-white/10 hover:bg-white/20 border-2 border-white/20 text-white text-lg font-bold rounded-pill transition-all active:scale-95 flex items-center justify-center gap-2" data-modal-trigger data-cta-id="footer_secondary" data-cta-text="Preview Doctor Pack">Preview Doctor Pack</a>
      </div>
      <div class="flex items-center justify-center gap-6 text-white/60 text-sm">
        <span class="flex items-center gap-2"><span class="material-symbols-outlined text-lg">lock</span>Your data stays private</span>
        <span class="flex items-center gap-2"><span class="material-symbols-outlined text-lg">cloud_off</span>Works offline</span>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-12 px-6 bg-bg-cream border-t border-primary/5">
    <div class="max-w-6xl mx-auto">
      <div class="flex flex-col md:flex-row justify-between items-center gap-6">
        <div class="flex items-center gap-2"><div class="w-8 h-8 rounded-xl bg-primary flex items-center justify-center"><span class="text-white font-display font-bold text-sm">C</span></div><span class="font-display font-semibold text-primary">Chronic Life</span></div>
        <div class="flex gap-8 text-sm font-medium text-text-muted">
          <a href="#" class="hover:text-primary transition-colors">Features</a>
          <a href="#" class="hover:text-primary transition-colors">Privacy</a>
          <a href="#" class="hover:text-primary transition-colors">Terms</a>
          <a href="#" class="hover:text-primary transition-colors">Support</a>
        </div>
        <p class="text-sm text-text-muted">© 2024 Chronic Life. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Email Signup Modal -->
  <div class="modal-overlay" id="emailModal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-container">
      <div class="modal-content">
        <div class="modal-blob-1"></div>
        <div class="modal-blob-2"></div>
        <button class="modal-close" id="modalClose" aria-label="Close modal"><span class="material-symbols-outlined text-text-muted">close</span></button>
        <div class="modal-form" id="modalForm">
          <div class="text-center mb-6">
            <div class="w-14 h-14 rounded-2xl bg-accent-purple/20 flex items-center justify-center mx-auto mb-4"><span class="material-symbols-outlined text-primary text-2xl">psychology</span></div>
            <h3 id="modalTitle" class="font-display text-2xl font-semibold text-primary mb-2">Join the waitlist</h3>
            <p class="text-text-muted text-sm">Be first to know when Chronic Life launches. A second brain for people living with brain fog.</p>
          </div>
          <form id="emailForm" class="space-y-4">
            <div>
              <input type="email" id="emailInput" class="modal-input" placeholder="your@email.com" required autocomplete="email" aria-label="Email address">
              <p id="emailError" class="text-accent-peach text-sm mt-2 hidden">Please enter a valid email address</p>
            </div>
            <button type="submit" class="modal-submit" id="submitBtn">Get Started<span class="material-symbols-outlined text-lg">arrow_forward</span></button>
          </form>
          <p class="text-center text-xs text-text-muted/70 mt-4"><span class="material-symbols-outlined text-xs align-middle">lock</span> No spam, ever. Unsubscribe anytime.</p>
        </div>
        <div class="modal-success" id="modalSuccess">
          <div class="success-icon"><span class="material-symbols-outlined text-white text-3xl">check</span></div>
          <h3 class="font-display text-2xl font-semibold text-primary mb-2">Thanks for your interest!</h3>
          <p class="text-text-muted mb-6">You have been added to our list. We'll reach out when Chronic Life is ready for you.</p>
          <button id="modalDone" class="modal-submit">Done<span class="material-symbols-outlined text-lg">check</span></button>
        </div>
      </div>
    </div>
  </div>

  <script>
    (function() {
      'use strict';
      const PAGE_ID = 'foggy_minds';
      const SUPABASE_URL = 'https://zvpudxinbcsrfyojrhhv.supabase.co';
      const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2cHVkeGluYmNzcmZ5b2pyaGh2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5NTE3MjksImV4cCI6MjA4MjUyNzcyOX0.5vV65qusPzu7847VxbiodRU0DZG1AryUuoklX3qFAWk';
      const supabase = window.supabase ? window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY) : null;
      const UTM_PARAMS = ['utm_source', 'utm_medium', 'utm_campaign', 'utm_content', 'utm_term'];

      function generateSessionId() { return 'sess_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9); }

      function captureUTMParams() {
        const params = new URLSearchParams(window.location.search);
        const utm = {};
        let hasUTM = false;
        UTM_PARAMS.forEach(param => { const value = params.get(param); if (value) { utm[param] = value; hasUTM = true; } });
        if (hasUTM) { sessionStorage.setItem('utm_data', JSON.stringify(utm)); }
        if (!sessionStorage.getItem('session_id')) { sessionStorage.setItem('session_id', generateSessionId()); }
        return utm;
      }

      function getStoredUTM() { try { return JSON.parse(sessionStorage.getItem('utm_data')) || {}; } catch { return {}; } }

      async function trackEvent(eventType, elementId = null, elementText = null) {
        if (!supabase) { console.warn('Supabase not initialized'); return; }
        const utm = getStoredUTM();
        const sessionId = sessionStorage.getItem('session_id');
        try {
          await supabase.from('marketing_events').insert({
            event_type: eventType, utm_source: utm.utm_source || null, utm_medium: utm.utm_medium || null,
            utm_campaign: utm.utm_campaign || null, utm_content: utm.utm_content || null, utm_term: utm.utm_term || null,
            element_id: elementId, element_text: elementText, page_url: window.location.href,
            referrer: document.referrer || null, session_id: sessionId
          });
        } catch (err) { console.error('Tracking error:', err); }
      }

      async function submitSignup(email) {
        if (!supabase) { return { success: false, error: 'Supabase not initialized' }; }
        const utm = getStoredUTM();
        try {
          const { error } = await supabase.from('beta_signups').insert({
            email: email, utm_source: utm.utm_source || null, utm_medium: utm.utm_medium || null,
            utm_campaign: utm.utm_campaign || null, utm_content: utm.utm_content || null, utm_term: utm.utm_term || null,
            landing_url: window.location.href, referrer: document.referrer || null, user_agent: navigator.userAgent
          });
          if (error) { return { success: false, error: error.message }; }
          await trackEvent('signup_complete', 'email_form', email);
          return { success: true };
        } catch (err) { return { success: false, error: err.message }; }
      }

      captureUTMParams();
      trackEvent('page_view', PAGE_ID, 'Foggy Minds Landing');
      window.ChronicLifeTracking = { trackEvent, submitSignup, getStoredUTM };

      // Parallax
      const parallaxBlobs = document.querySelectorAll('.parallax-blob');
      let ticking = false, lastScrollY = 0;
      function updateParallax() { parallaxBlobs.forEach(blob => { const speed = parseFloat(blob.dataset.speed) || 0.03; blob.style.transform = `translateY(${-(lastScrollY * speed * 100)}px)`; }); ticking = false; }
      function onScroll() { lastScrollY = window.scrollY; if (!ticking) { requestAnimationFrame(updateParallax); ticking = true; } }
      window.addEventListener('scroll', onScroll, { passive: true });

      // Reduce motion
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        document.querySelectorAll('.parallax-blob, .float-card, .float-card-delayed').forEach(el => { el.style.animation = 'none'; });
      }

      // Modal
      const modal = document.getElementById('emailModal');
      const modalContainer = modal.querySelector('.modal-container');
      const modalClose = document.getElementById('modalClose');
      const modalForm = document.getElementById('modalForm');
      const modalSuccess = document.getElementById('modalSuccess');
      const emailForm = document.getElementById('emailForm');
      const emailInput = document.getElementById('emailInput');
      const emailError = document.getElementById('emailError');
      const submitBtn = document.getElementById('submitBtn');
      const modalDone = document.getElementById('modalDone');

      function openModal() { modal.classList.add('active'); modalContainer.classList.add('active'); modal.setAttribute('aria-hidden', 'false'); document.body.style.overflow = 'hidden'; setTimeout(() => emailInput.focus(), 300); }
      function closeModal() { modal.classList.remove('active'); modalContainer.classList.remove('active'); modal.setAttribute('aria-hidden', 'true'); document.body.style.overflow = ''; setTimeout(() => { modalForm.classList.remove('hidden'); modalSuccess.classList.remove('active'); emailInput.value = ''; emailInput.classList.remove('error'); emailError.classList.add('hidden'); }, 300); }
      function isValidEmail(email) { return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email); }

      emailForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        const email = emailInput.value.trim();
        if (!isValidEmail(email)) { emailInput.classList.add('error'); emailError.classList.remove('hidden'); return; }
        emailInput.classList.remove('error'); emailError.classList.add('hidden');
        submitBtn.disabled = true; submitBtn.innerHTML = '<span class="material-symbols-outlined animate-spin">progress_activity</span> Submitting...';
        let result = { success: true };
        if (window.ChronicLifeTracking) { result = await window.ChronicLifeTracking.submitSignup(email); }
        if (result.success) { modalForm.classList.add('hidden'); modalSuccess.classList.add('active'); }
        else { emailError.textContent = result.error?.includes('duplicate') ? 'This email is already on the waitlist!' : 'Something went wrong. Please try again.'; emailError.classList.remove('hidden'); emailInput.classList.add('error'); }
        submitBtn.disabled = false; submitBtn.innerHTML = 'Get Started <span class="material-symbols-outlined text-lg">arrow_forward</span>';
      });

      emailInput.addEventListener('input', function() { emailInput.classList.remove('error'); emailError.classList.add('hidden'); emailError.textContent = 'Please enter a valid email address'; });
      modalClose.addEventListener('click', closeModal);
      modalDone.addEventListener('click', closeModal);
      modal.addEventListener('click', function(e) { if (e.target === modal) closeModal(); });
      document.addEventListener('keydown', function(e) { if (e.key === 'Escape' && modal.classList.contains('active')) closeModal(); });

      document.querySelectorAll('[data-modal-trigger]').forEach((btn, index) => {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          const elementId = btn.dataset.ctaId || btn.id || btn.closest('section')?.id || `cta_${index}`;
          const elementText = btn.dataset.ctaText || btn.textContent?.trim().substring(0, 50) || 'Unknown CTA';
          if (window.ChronicLifeTracking) { window.ChronicLifeTracking.trackEvent('cta_click', elementId, elementText); }
          openModal();
        });
      });
    })();
  </script>
</body>
</html>
